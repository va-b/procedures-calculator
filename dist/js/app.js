(function(t){function e(e){for(var r,i,l=e[0],o=e[1],c=e[2],u=0,p=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0317":function(t,e,a){"use strict";var r=a("a71c"),s=a.n(r);s.a},"1f0c":function(t,e,a){},"3d4c":function(t,e,a){},a71c:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);class r{constructor(t){this.geturl=t,this._cache={}}async GetEntity(t){if(this._cache[t])return this._cache[t];let e=this.geturl(t+".json");this._cache[t]=window.$http.get(e);try{return await this._cache[t]}catch(a){return this._cache[t]=void 0,console.error("Could not load "+e),[]}}}var s=a("2b0e"),n=a("bb71"),i=a("0879");a("da64");const l={lang:{locales:{ru:i["a"]},current:"ru"},theme:{primary:"#00B0FF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"fa"};s["a"].use(n["a"],l);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",{directives:[{name:"show",rawName:"v-show",value:"start"!==t.$route.name,expression:"$route.name !== 'start'"}],staticClass:"pb-0",attrs:{"grid-list-lg":""}},[a("help-view",{model:{value:t.helpDialog,callback:function(e){t.helpDialog=e},expression:"helpDialog"}}),a("v-card",{attrs:{tile:"",color:"primary"}},[a("v-card-title",{staticClass:"py-2"},[a("img",{staticClass:"d-block pr-3",attrs:{src:"http://archit.tmbreg.ru/assets/files/news/calculator/gerb-small.png",height:"48px"}}),a("div",{staticClass:"headline white--text"},[t._v(" Калькулятор процедур в сфере строительства ")]),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"result"===t.$route.name,expression:"$route.name === 'result'"}],staticClass:"primary--text",attrs:{round:"",small:"",depressed:"",color:"white",to:"/master"}},[a("v-icon",{attrs:{small:"",light:"",left:""}},[t._v("fa-chevron-left")]),t._v(" Назад ")],1),a("v-btn",{staticClass:"primary--text",attrs:{icon:"",small:"",depressed:"",color:"white"},on:{click:function(e){t.helpDialog=!t.helpDialog}}},[a("v-icon",{attrs:{small:"",light:""}},[t._v("fa-question")])],1)],1)],1)],1),a("router-view")],1)],1)},c=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.value,scrollable:"",width:"640"},on:{input:t.$listeners.input}},[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"subheading pa-3 grey lighten-3",attrs:{"primary-title":""}},[a("div",[t._v("Калькулятор процедур в сфере строительства Тамбовской области")]),a("v-spacer"),a("v-btn",{staticClass:"ma-0",attrs:{flat:"",small:"",icon:"",color:"grey darken-1"},on:{click:function(e){return t.$listeners.input(!1)}}},[a("v-icon",[t._v("fa-times")])],1)],1),a("v-card-text",{staticStyle:{"max-height":"456px"}},[a("p",[t._v("Калькулятор процедур в сфере строительства должен «сопровождать» застройщика на каждом шагу оформления документов в процессе строительства, должны содержать необходимые ссылки на документы, адреса и реквизиты выдающих и согласующих документы инстанций.")]),a("p",[t._v("Калькулятор процедур в сфере строительства должен содержать информацию о документальном сопровождении на всех этапах строительства, которую необходимо знать застройщику (имеющему земельный участок), начиная от получения ГПЗУ до регистрации права собственности на построенный объект капитального строительства.")]),a("p",[t._v("Задав тип планируемого объекта, а также градостроительные условия и ограничения развития территорий, застройщик заранее сможет получить исчерпывающую информацию о последовательности прохождения процедур, о документах, сроках, стоимости процедур, органах и организациях, куда следует обратиться. Выбор параметров строительного объекта и их поэтапное уточнение, начиная от назначения объекта до проецированного программой модели действий упрощающей работу застройщика при проектировании объекта.")]),a("p",[t._v("Для использования сервиса рекомендуется использовать актуальные версии браузеров Chrome, Safari, Firefox, Edge.")])])],1)],1)},u=[],p=s["a"].extend({name:"HelpView",props:{value:{required:!0,type:Boolean}}}),h=p,m=a("2877"),v=a("6544"),f=a.n(v),g=a("8336"),b=a("b0af"),y=a("99d9"),w=a("12b2"),C=a("169a"),_=a("132d"),x=a("9910"),S=Object(m["a"])(h,d,u,!1,null,null,null),O=S.exports;f()(S,{VBtn:g["a"],VCard:b["a"],VCardText:y["b"],VCardTitle:w["a"],VDialog:C["a"],VIcon:_["a"],VSpacer:x["a"]});var I=s["a"].extend({components:{HelpView:O},name:"App",data:()=>({helpDialog:!1})}),V=I,P=a("7496"),k=a("a523"),T=a("549c"),F=Object(m["a"])(V,o,c,!1,null,null,null),E=F.exports;f()(F,{VApp:P["a"],VBtn:g["a"],VCard:b["a"],VCardTitle:w["a"],VContainer:k["a"],VContent:T["a"],VIcon:_["a"],VSpacer:x["a"]});var $=a("8c4f"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-lg":""}},[t.FrontendSteps.length?a("v-stepper",{staticClass:"c-stepper",attrs:{"alt-labels":"",value:t.currentStepNumber}},[a("v-stepper-header",[t._l(t.FrontendSteps,(function(e){return[a("v-stepper-step",{key:e.Id,staticClass:"pa-3",style:{flexBasis:100/t.FrontendSteps.length+"%!important"},attrs:{complete:t.currentStepNumber>=e.Order,step:e.Order}},[t._v(" "+t._s(e.Title)+" ")]),t.IsLastStep?a("v-divider"):t._e()]}))],2),a("v-stepper-items",t._l(t.FrontendSteps,(function(e){return a("v-stepper-content",{key:e.Id,attrs:{step:e.Order}},[a("v-card",{staticClass:"xs-12 md-8 lg-6 xl-4",attrs:{flat:""}},[a("v-card-title",{staticClass:"title"},[t._v(" "+t._s(e.Title)+" ")]),a("v-card-text",{staticClass:"title"},[a("v-layout",{attrs:{column:""}},t._l(t.GetParams(e.Id),(function(e){return a("calc-parameter",{key:e.Title,attrs:{parameter:e,allChoices:t.Choices,allLinks:t.Links}})})),1)],1)],1),t.IsFirstStep?t._e():a("v-btn",{attrs:{flat:""},on:{click:t.FrontendStepPrev}},[t._v(" Назад ")]),t.IsLastStep?t._e():a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:t.FrontendStepNext}},[t._v(" Вперёд ")]),t.IsLastStep?a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:t.ComputeResults}},[t._v(" Получить результат ")]):t._e()],1)})),1)],1):a("v-progress-circular",{staticClass:"circulator",attrs:{size:60,width:3,color:"primary",indeterminate:""}})],1)},D=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-card",[a("v-card-title",{staticStyle:{"flex-wrap":"nowrap"}},[a("v-avatar",{staticClass:"mr-3",attrs:{size:52}},[a("img",{attrs:{src:t.parameter.ImageUrl}})]),a("div",[t._v(t._s(t.parameter.Title))]),t.parameter.Description?a("v-tooltip",{attrs:{"close-delay":500,"max-width":500,right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"ma-0 ml-3",attrs:{small:"",flat:"",icon:"",color:"grey"}},r),[a("v-icon",{attrs:{small:"",light:""}},[t._v("fa-question-circle")])],1)]}}],null,!1,1858120966)},[a("span",[t._v(t._s(t.parameter.Description))])]):t._e()],1),a("v-card-text",{staticClass:"pt-0"},[a("v-radio-group",{staticClass:"mt-0",attrs:{value:t.SelectedChoiceIdForParameter},on:{change:t.CheckChoice}},t._l(t.ChoicesForParameter,(function(e){return a("v-radio",{key:e.Id,attrs:{label:e.Title,value:e.Id,disabled:t.getIsChoiceDisabled(e.Id)}})})),1)],1)],1)],1)},L=[];function G(t,e,a){function r(t){let s=e.filter(e=>e.ChE==t).map(t=>t.ChS);return 0==s.length?a.find(e=>e.Id==t).Selected:!!s.filter(t=>a.find(e=>e.Id==t).Selected).find(r)}return Array.from(new Set(t.filter(t=>r(t.ChoiceId))))}function R(t,e,a){const r=t=>{let a=e.filter(e=>e.ChE==t).map(t=>t.ChS);return 0==a.length?[t]:[].concat(...a.map(r))};let s=e.filter(e=>e.ChE==t).map(t=>t.ChS);if(0==s.length)return!1;let n=Array.from(new Set([].concat(...s.map(r)))),i=n.every(t=>!a.find(e=>e.Id==t).Selected);return i&&(a.find(e=>e.Id==t).Selected=!1),i}var B=s["a"].extend({name:"CalcParameter",props:{parameter:{required:!0},allChoices:{required:!0,type:Array},allLinks:{required:!0,type:Array}},computed:{ChoicesForParameter(){return this.allChoices.filter(t=>t.ParameterId==this.parameter.Id)},SelectedChoiceIdForParameter(){let t=this.ChoicesForParameter.find(t=>t.Selected);return t?t.Id:null}},methods:{getIsChoiceDisabled(t){return R(t,this.allLinks,this.allChoices)},CheckChoice(t){this.ChoicesForParameter.forEach(t=>t.Selected=!1),this.ChoicesForParameter.find(e=>e.Id==t).Selected=!0}}}),A=B,q=a("8212"),U=a("0e8f"),M=a("67b6"),H=a("43a6"),z=a("3a2f"),J=Object(m["a"])(A,N,L,!1,null,null,null),Y=J.exports;f()(J,{VAvatar:q["a"],VBtn:g["a"],VCard:b["a"],VCardText:y["b"],VCardTitle:w["a"],VFlex:U["a"],VIcon:_["a"],VRadio:M["a"],VRadioGroup:H["a"],VTooltip:z["a"]});var Z=s["a"].extend({name:"Master",components:{CalcParameter:Y},data:()=>({currentStepNumber:1,FrontendSteps:[],Parameters:[],Choices:[],Expressions:[],Links:[]}),computed:{IsFirstStep(){return 1==this.currentStepNumber},IsLastStep(){return this.currentStepNumber==this.FrontendSteps[this.FrontendSteps.length-1].Order}},methods:{async LoadInitial(){let t=await window.$service.GetSteps();this.FrontendSteps=t.FrontendSteps,this.Parameters=t.Parameters,this.Choices=t.Choices,this.Links=t.Links,this.Expressions=t.Expressions},FrontendStepNext(){let t=this.FrontendSteps.find(t=>t.Order==this.currentStepNumber+1);t&&(this.currentStepNumber=t.Order)},FrontendStepPrev(){let t=this.FrontendSteps.find(t=>t.Order==this.currentStepNumber-1);t&&(this.currentStepNumber=t.Order)},GetParams(t){return this.Parameters.filter(e=>e.FrontendStepId==t)},ComputeResults(){let t=G(this.Expressions,this.Links,this.Choices).map(t=>t.Id.toString()).join("_");this.$router.push("/result/"+t)}},created(){this.LoadInitial()}}),K=Z,Q=(a("0317"),a("ce7e")),W=a("a722"),X=a("490a"),tt=a("7e85"),et=a("e516"),at=a("9c54"),rt=a("56a4"),st=Object(m["a"])(K,j,D,!1,null,null,null),nt=st.exports;f()(st,{VBtn:g["a"],VCard:b["a"],VCardText:y["b"],VCardTitle:w["a"],VContainer:k["a"],VDivider:Q["a"],VLayout:W["a"],VProgressCircular:X["a"],VStepper:tt["a"],VStepperContent:et["a"],VStepperHeader:at["a"],VStepperItems:at["b"],VStepperStep:rt["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-lg":"","fill-height":"","justify-center":"","align-center":""}},[a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-flex",{staticClass:"elevation-8 pa-4 h-100",staticStyle:{background:"url(http://archit.tmbreg.ru/assets/files/news/calculator/mainimg2.png) center center no-repeat","background-size":"cover"},attrs:{xs12:"",xl8:""}},[a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs12:"",md8:"",lg6:""}},[a("v-card",{staticClass:"mb-2 elevation-12",attrs:{tile:""}},[a("div",{staticClass:"d-flex py-3 px-4 d-flex"},[a("img",{staticClass:"d-block pr-3",attrs:{src:"http://archit.tmbreg.ru/assets/files/news/calculator/gerb-small.png",height:"68px"}}),a("div",{staticClass:"headline py-2"},[t._v("Калькулятор процедур в сфере строительства")])])]),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.etap,(function(e,r){return a("v-flex",{key:r,attrs:{xs12:"",sm4:""}},[a("v-card",{staticClass:"elevation-12 h-100",attrs:{tile:""}},[a("v-card-title",{staticClass:"justify-center align-center py-2 h-50"},[a("v-avatar",{attrs:{color:"primary"}},[a("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1)],1),a("v-divider"),a("v-card-title",{staticClass:"subheading justify-center align-center py-1 h-50"},[a("div",{staticClass:"text-xs-center lh-11"},[t._v(t._s(e.text))])])],1)],1)})),1),a("v-card",{staticClass:"mt-2 elevation-12",attrs:{tile:""}},[a("v-card-text",{staticClass:"subheading"},[t._v(" Интерактивный сервис для застройщиков, где можно узнать сроки и этапы прохождения строительных процедур для конкретного проекта. ")]),a("v-card-actions",{staticClass:"justify-center pb-3"},[a("v-btn",{attrs:{large:"",dark:"",color:"primary",to:"/master"}},[t._v(" Открыть Онлайн-калькулятор ")])],1)],1)],1)],1)],1)],1)],1)},lt=[],ot=s["a"].extend({name:"StartPage",computed:{etap(){return[{icon:"fa-file-invoice",text:"прохождение процедур"},{icon:"fa-clock",text:"расчёт времени"},{icon:"fa-hotel",text:"реализация строительного проекта"}]}}}),ct=ot,dt=Object(m["a"])(ct,it,lt,!1,null,null,null),ut=dt.exports;f()(dt,{VAvatar:q["a"],VBtn:g["a"],VCard:b["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:w["a"],VContainer:k["a"],VDivider:Q["a"],VFlex:U["a"],VIcon:_["a"],VLayout:W["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-lg":""}},[a("organisation-view",{model:{value:t.currentOrganisationId,callback:function(e){t.currentOrganisationId=e},expression:"currentOrganisationId"}}),t.Results.length?a("v-stepper",{attrs:{vertical:""},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[t._l(t.Results,(function(e){return[a("v-stepper-step",{key:e.StepId,attrs:{step:e.StepNum,editable:!!e.Items.length}},[a("span",{staticClass:"subheading text-uppercase"},[t._v(t._s(e.StepName)+" "),e.TotalTime?a("span",{staticClass:"blue--text"},[t._v(" - До "+t._s(e.TotalTime)+" дней ")]):a("i",{staticClass:"fas fa-clock ml-2 grey--text"})])]),a("v-stepper-content",{attrs:{step:e.StepNum}},[a("v-card",{staticClass:"ma-1 mb-4",attrs:{tile:""}},[a("v-data-table",{attrs:{"disable-initial-sort":"","hide-actions":"",headers:t.headers,items:e.Items,"item-key":"procedureId"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(" "+t._s(e.item.ProcedureName)+" ")]),a("td",[a("v-btn",{staticClass:"intable-button",attrs:{small:"",flat:"",tag:"a",color:"blue darken-2"},on:{click:function(){return t.selectOrganisation(e.item.OrganisationId)}}},[t._v(" "+t._s(e.item.OrganisationName)+" ")])],1),a("td",{staticClass:"text-xs-center body-2"},[t._v(" "+t._s(t.formatDays(e.item))+" ")]),a("td",{},[t._v(" "+t._s(e.item.DocumentName)+" ")])]}}],null,!0)})],1)],1)]}))],2):a("v-progress-circular",{staticClass:"circulator",attrs:{size:60,width:3,color:"primary",indeterminate:""}})],1)},ht=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:!!t.value,scrollable:"",width:"800"},on:{input:t.dialogStateChange}},[a("v-card",{attrs:{tile:""}},[null==t.currentOrg?a("v-progress-circular",{staticStyle:{position:"absolute",top:"calc(50% - 16px)",left:"calc(50% - 16px)"},attrs:{size:32,indeterminate:"",width:2,color:"primary"}}):[a("v-card-title",{staticClass:"subheading pa-3 grey lighten-3",staticStyle:{"flex-wrap":"nowrap!important"},attrs:{"primary-title":""}},[a("div",[t._v(t._s(t.currentOrg.Title))]),a("v-spacer"),a("v-btn",{staticClass:"ma-0",attrs:{flat:"",small:"",icon:"",color:"grey darken-1"},on:{click:function(e){return t.$emit("input",null)}}},[a("v-icon",[t._v("fa-times")])],1)],1),a("v-card-text",{staticClass:"subheading",staticStyle:{"min-height":"260px"}},[a("table",[a("tr",[a("td",{staticClass:"pa-1"},[t._v("Телефон:")]),a("td",{staticClass:"pa-1"},[t._v(t._s(t.currentOrg.Phone))])]),a("tr",[a("td",{staticClass:"pa-1"},[t._v("Факс:")]),a("td",{staticClass:"pa-1"},[t._v(t._s(t.currentOrg.Fax))])]),a("tr",[a("td",{staticClass:"pa-1"},[t._v("Email:")]),a("td",{staticClass:"pa-1"},[t._v(t._s(t.currentOrg.Email))])]),a("tr",[a("td",{staticClass:"pa-1"},[t._v("Адрес:")]),a("td",{staticClass:"pa-1"},[t._v(t._s(t.currentOrg.Address))])]),a("tr",[a("td",{staticClass:"py-2 px-1 font-italic body-1"},[t._v(t._s(t.currentOrg.Description))])])])]),t.currentOrg.YandexMapsLink?a("iframe",{attrs:{src:"https://yandex.ru/map-widget/v1/-/"+t.currentOrg.YandexMapsLink,height:"400"}}):t._e()]],2)],1)},vt=[],ft=s["a"].extend({props:{value:{required:!0}},data:()=>({currentOrg:null}),watch:{async value(t){t&&(this.currentOrg=null,this.currentOrg=await window.$service.GetOrganisation(t))}},methods:{dialogStateChange(t){this.$emit("input",t?this.value:null)}}}),gt=ft,bt=Object(m["a"])(gt,mt,vt,!1,null,null,null),yt=bt.exports;f()(bt,{VBtn:g["a"],VCard:b["a"],VCardText:y["b"],VCardTitle:w["a"],VDialog:C["a"],VIcon:_["a"],VProgressCircular:X["a"],VSpacer:x["a"]});var wt=s["a"].extend({name:"Result",components:{OrganisationView:yt},data:()=>({e1:-1,currentOrganisationId:null,Results:[]}),mounted(){this.Results=[];let t=this.$route.params.exquery,e=t.split("_").map(t=>parseInt(t));this.LoadResults(e)},methods:{async LoadResults(t){try{this.Results=await window.$service.GetResults(t)}catch(e){console.error(e)}},selectOrganisation(t){this.currentOrganisationId=t},formatDays(t){return t.PerformingTime?`до ${t.PerformingTime} ${t.IsTimeByCalendar?"календарных":"рабочих"} дней`:"Договорная"}},computed:{headers(){return[{text:"Процедура",sortable:!1,value:"ProcedureName",class:"body-2"},{text:"Ответственная организация",sortable:!1,value:"OrganisationName",class:"body-2"},{text:"Срок проведения",sortable:!1,value:"PerformingTime",class:"body-2"},{text:"Результат",sortable:!1,value:"DocumentName",class:"body-2"}]}}}),Ct=wt,_t=(a("d7c3"),a("8fea")),xt=Object(m["a"])(Ct,pt,ht,!1,null,null,null),St=xt.exports;f()(xt,{VBtn:g["a"],VCard:b["a"],VContainer:k["a"],VDataTable:_t["a"],VProgressCircular:X["a"],VStepper:tt["a"],VStepperContent:et["a"],VStepperStep:rt["a"]}),s["a"].use($["a"]);var Ot=new $["a"]({routes:[{path:"/master",component:nt,name:"master"},{path:"/",component:ut,name:"start"},{path:"/result/:exquery",component:St,name:"result"}]});a("1f0c");function It(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Vt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?It(Object(a),!0).forEach((function(e){Pt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Pt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class kt{constructor(t=""){this.baseUrl=t;let e=new Headers;e.set("Content-type","application/json"),this.fetchParams={credentials:"same-origin",headers:e}}dataparser(t,e){let a=typeof e,r=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z|)/;return"string"===a&&r.test(e)?new Date(e):e}async handleResponse(t){if(t.ok){let e=t.headers.get("content-type");return e&&e.includes("application/json")?JSON.parse(await t.text(),this.dataparser):t.text()}throw new Error(JSON.stringify(t))}async delete(t){let e=Vt({method:"DELETE"},this.fetchParams),a=await fetch(this.baseUrl+t,e),r=await this.handleResponse(a);return r}async get(t){let e=Vt({method:"GET"},this.fetchParams),a=await fetch(this.baseUrl+t,e),r=await this.handleResponse(a);return r}async patch(t,e){let a=Vt({method:"PATCH",body:e},this.fetchParams),r=await fetch(this.baseUrl+t,a),s=await this.handleResponse(r);return s}async post(t,e){let a;if(e instanceof FormData){let t=new Headers;t.set("Content-type","multipart/form-data"),a={credentials:"same-origin",headers:t}}else a=this.fetchParams;let r=Vt({method:"POST",body:e},a),s=await fetch(this.baseUrl+t,r),n=await this.handleResponse(s);return n}async put(t,e){let a={method:"PUT",body:e},r=await fetch(this.baseUrl+t,Vt(Vt({},this.fetchParams),a)),s=await this.handleResponse(r);return s}}class Tt{constructor(){}async GetSteps(){let t=await Promise.all([window.$db.GetEntity("FrontendStep"),window.$db.GetEntity("Parameter"),window.$db.GetEntity("Choice"),window.$db.GetEntity("Expression"),window.$db.GetEntity("Link")]);return{FrontendSteps:t[0].sort((t,e)=>t.Order-e.Order),Parameters:t[1].sort((t,e)=>t.FrontendStepId-e.FrontendStepId),Choices:t[2].sort((t,e)=>t.ParameterId-e.ParameterId),Expressions:t[3],Links:t[4]}}async GetResults(t){let e=(await window.$db.GetEntity("Expression")).filter(e=>t.includes(e.Id)).map(t=>t.ProcedureId),a=(await window.$db.GetEntity("Procedure")).filter(t=>e.includes(t.Id)),r=await window.$db.GetEntity("Organisation"),s=await window.$db.GetEntity("Document"),n=a.map(t=>{let e=s.find(e=>e.Id==t.DocumentId),a=r.find(e=>e.Id==t.OrganisationId);return{StageId:t.StageId,ProcedureId:t.Id,ProcedureName:t.Title,PerformingTime:t.PerformingTime,IsTimeByCalendar:t.IsTimeByCalendar,OrganisationId:t.OrganisationId,OrganisationName:a.Title,DocumentName:e.Title}}),i=(await window.$db.GetEntity("Stage")).sort((t,e)=>t.Order-e.Order).map(t=>{let e=n.filter(e=>e.StageId===t.Id);return{StepId:t.Id,StepName:t.Title,StepNum:t.Order,Items:e,TotalTime:e.reduce((t,e)=>{var a;return t+(null!==(a=e.PerformingTime)&&void 0!==a?a:0)},0)}});return i}async GetOrganisation(t){let e=await window.$db.GetEntity("Organisation");return e.find(e=>e.Id==t)}}s["a"].config.productionTip=!1,window.$http=new kt,window.$db=new r(t=>"/db/"+t),window.$service=new Tt,window.$vm=new s["a"]({router:Ot,render:t=>t(E)}),window.$vm.$mount("#app")},d7c3:function(t,e,a){"use strict";var r=a("3d4c"),s=a.n(r);s.a}});