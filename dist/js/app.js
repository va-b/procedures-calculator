(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)n=o[d],a[n]&&p.push(a[n][0]),a[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],s=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},a={app:0},i=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"0317":function(t,e,r){"use strict";var s=r("8206"),a=r.n(s);a.a},"1e17":function(t,e,r){},"5c0b":function(t,e,r){"use strict";var s=r("5e27"),a=r.n(s);a.a},"5e27":function(t,e,r){},8206:function(t,e,r){},aada:function(t,e,r){"use strict";var s=r("1e17"),a=r.n(s);a.a},cd49:function(t,e,r){"use strict";r.r(e);var s=r("2b0e"),a=r("ce5b"),i=r.n(a),n=(r("bf40"),r("0879"));const o={lang:{locales:{ru:n["a"]},current:"ru"},theme:{primary:"#00B0FF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}};s["default"].use(i.a,o);var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-content",[r("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.isStartPage,expression:"!isStartPage"}],staticClass:"pb-0",attrs:{"grid-list-lg":""}},[r("v-dialog",{attrs:{scrollable:"",width:"640"},model:{value:t.helpDialog,callback:function(e){t.helpDialog=e},expression:"helpDialog"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",{staticClass:"subheading pa-3 grey lighten-3",attrs:{"primary-title":""}},[t._v("\n            Калькулятор процедур в сфере строительства Тамбовской области\n          ")]),r("v-card-text",{staticStyle:{"max-height":"424px"}},[r("p",[t._v("Калькулятор процедур в сфере строительства должен «сопровождать» застройщика на каждом шагу оформления документов в процессе строительства, должны содержать необходимые ссылки на документы, адреса и реквизиты выдающих и согласующих документы инстанций.")]),r("p",[t._v("Калькулятор процедур в сфере строительства должен содержать информацию о документальном сопровождении на всех этапах строительства, которую необходимо знать застройщику (имеющему земельный участок), начиная от получения ГПЗУ до регистрации права собственности на построенный объект капитального строительства.")]),r("p",[t._v("Задав тип планируемого объекта, а также градостроительные условия и ограничения развития территорий, застройщик заранее сможет получить исчерпывающую информацию о последовательности прохождения процедур, о документах, сроках, стоимости процедур, органах и организациях, куда следует обратиться. Выбор параметров строительного объекта и их поэтапное уточнение, начиная от назначения объекта до проецированного программой модели действий упрощающей работу застройщика при проектировании объекта.")]),r("p",[t._v("Для использования сервиса рекомендуется использовать: Chrome, Safari, 10+, Firefox, Edge.")])])],1)],1),r("v-card",{attrs:{tile:"",color:"primary"}},[r("v-card-title",{staticClass:"py-2"},[r("img",{staticClass:"d-block pr-3",attrs:{src:"http://archit.tmbreg.ru/assets/files/news/calculator/gerb-small.png",height:"48px"}}),r("div",{staticClass:"headline white--text"},[t._v("\n            Калькулятор процедур в сфере строительства\n          ")]),r("v-spacer"),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isResultPage,expression:"isResultPage"}],staticClass:"primary--text",attrs:{round:"",small:"",depressed:"",color:"white",to:"/master"}},[r("v-icon",{attrs:{small:"",light:"",left:""}},[t._v("fa-chevron-left")]),t._v("\n            Назад\n          ")],1),r("v-btn",{staticClass:"primary--text",attrs:{icon:"",small:"",depressed:"",color:"white"},on:{click:function(e){t.helpDialog=!t.helpDialog}}},[r("v-icon",{attrs:{small:"",light:""}},[t._v("fa-question")])],1)],1)],1)],1),r("router-view")],1)],1)},c=[],u=r("9ab4"),d=r("60a3");let p=class extends d["c"]{constructor(){super(...arguments),this.helpDialog=!1}get isStartPage(){return"/"==this.$route.fullPath}get isResultPage(){return"/result"==this.$route.fullPath}};p=u["a"]([d["a"]],p);var h=p,v=h,m=(r("5c0b"),r("2877")),f=Object(m["a"])(v,l,c,!1,null,null,null),g=f.exports,b=r("8c4f"),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-lg":""}},[t.$store.state.frontendSteps.length?r("v-stepper",{staticClass:"c-stepper",attrs:{"alt-labels":"",value:t.$store.state.currentStepNumber}},[r("v-stepper-header",[t._l(t.$store.state.frontendSteps,function(e){return[r("v-stepper-step",{key:e.id,staticClass:"pa-3",style:{flexBasis:100/t.$store.state.frontendSteps.length+"%!important"},attrs:{complete:t.$store.state.currentStepNumber>=e.order,step:e.order}},[t._v("\n                    "+t._s(e.title)+"\n                ")]),t.$store.getters.IsLastStep?r("v-divider"):t._e()]})],2),r("v-stepper-items",t._l(t.$store.state.frontendSteps,function(e){return r("v-stepper-content",{key:e.id,attrs:{step:e.order}},[r("v-card",{staticClass:"xs-12 md-8 lg-6 xl-4",attrs:{flat:""}},[r("v-card-title",{staticClass:"title"},[t._v("\n                        "+t._s(e.title)+"\n                    ")]),r("v-card-text",{staticClass:"title"},[r("v-layout",{attrs:{column:""}},t._l(t.$store.getters.CurrentParams,function(t){return r("calc-parameter",{key:t.title,attrs:{parameter:t}})}),1)],1)],1),t.$store.getters.IsFirstStep?t._e():r("v-btn",{attrs:{flat:""},on:{click:function(e){return t.$store.commit("FrontendStepPrev")}}},[t._v("\n                    Назад\n                ")]),t.$store.getters.IsLastStep?t._e():r("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.$store.commit("FrontendStepNext")}}},[t._v("\n                    Вперёд\n                ")]),t.$store.getters.IsLastStep?r("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.$router.push("/result")}}},[t._v("\n                    Получить результат\n                ")]):t._e()],1)}),1)],1):r("v-progress-circular",{staticClass:"circulator",attrs:{size:60,width:3,color:"primary",indeterminate:""}})],1)},w=[],_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",[r("v-card",[r("v-card-title",{staticStyle:{"flex-wrap":"nowrap"}},[r("v-avatar",{staticClass:"mr-3",attrs:{size:52}},[r("img",{attrs:{src:t.parameter.imageUrl}})]),r("div",[t._v(t._s(t.parameter.title))]),t.parameter.description?r("v-tooltip",{attrs:{"close-delay":500,"max-width":500,right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[r("v-btn",t._g({staticClass:"ma-0 ml-3",attrs:{small:"",flat:"",icon:"",color:"grey"}},s),[r("v-icon",{attrs:{small:"",light:""}},[t._v("fa-question-circle")])],1)]}}],null,!1,1858120966)},[r("span",[t._v(t._s(t.parameter.description))])]):t._e()],1),r("v-card-text",{staticClass:"pt-0"},[r("v-radio-group",{staticClass:"mt-0",attrs:{value:t.$store.getters.SelectedChoiceIdForParameter(t.parameter.id)},on:{change:function(e){return t.$store.commit("CheckChoice",e)}}},t._l(t.$store.getters.ChoicesForParameter(t.parameter.id),function(e){return r("v-radio",{key:e.id,attrs:{label:e.title,value:e.id,disabled:t.$store.getters.IsChoiceDisabled(e.id)}})}),1)],1)],1)],1)},x=[];let S=class extends d["c"]{};u["a"]([Object(d["b"])()],S.prototype,"parameter",void 0),S=u["a"]([d["a"]],S);var C=S,O=C,$=Object(m["a"])(O,_,x,!1,null,null,null),k=$.exports;let I=class extends d["c"]{created(){this.$store.dispatch("LoadInitial")}};I=u["a"]([Object(d["a"])({components:{CalcParameter:k}})],I);var F=I,P=F,N=(r("0317"),Object(m["a"])(P,y,w,!1,null,null,null)),R=N.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-lg":"","fill-height":"","justify-center":"","align-center":""}},[r("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[r("v-flex",{staticClass:"elevation-8 pa-4 h-100",staticStyle:{background:"url(http://archit.tmbreg.ru/assets/files/news/calculator/mainimg2.png) center center no-repeat","background-size":"cover"},attrs:{xs12:"",xl8:""}},[r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",md8:"",lg6:""}},[r("v-card",{staticClass:"mb-2 elevation-12",attrs:{tile:""}},[r("div",{staticClass:"d-flex py-3 px-4 d-flex"},[r("img",{staticClass:"d-block pr-3",attrs:{src:"http://archit.tmbreg.ru/assets/files/news/calculator/gerb-small.png",height:"68px"}}),r("div",{staticClass:"headline py-2"},[t._v("Калькулятор процедур в сфере строительства")])])]),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.etap,function(e,s){return r("v-flex",{key:s,attrs:{xs12:"",sm4:""}},[r("v-card",{staticClass:"elevation-12 h-100",attrs:{tile:""}},[r("v-card-title",{staticClass:"justify-center align-center py-2 h-50"},[r("v-avatar",{attrs:{color:"primary"}},[r("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1)],1),r("v-divider"),r("v-card-title",{staticClass:"subheading justify-center align-center py-1 h-50"},[r("div",{staticClass:"text-xs-center lh-11"},[t._v(t._s(e.text))])])],1)],1)}),1),r("v-card",{staticClass:"mt-2 elevation-12",attrs:{tile:""}},[r("v-card-text",{staticClass:"subheading"},[t._v("\n                            Интерактивный сервис для застройщиков, где можно узнать сроки и этапы прохождения\n                            строительных процедур для конкретного проекта.\n                        ")]),r("v-card-actions",{staticClass:"justify-center pb-3"},[r("v-btn",{attrs:{large:"",dark:"",color:"primary",to:"/master"}},[t._v("\n                                Открыть Онлайн-калькулятор (Demo-версия)\n                            ")])],1)],1)],1)],1)],1)],1)],1)},E=[];let D=class extends d["c"]{get etap(){return[{icon:"fa-file-invoice",text:"прохождение процедур"},{icon:"fa-clock",text:"расчёт времени"},{icon:"fa-hotel",text:"реализация строительного проекта"}]}};D=u["a"]([d["a"]],D);var T=D,V=T,G=Object(m["a"])(V,j,E,!1,null,null,null),L=G.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-lg":""}},[r("v-dialog",{attrs:{width:"420"},model:{value:t.organisationDialog,callback:function(e){t.organisationDialog=e},expression:"organisationDialog"}},[r("v-card",{staticStyle:{"min-height":"460px"},attrs:{tile:""}},[t.$store.state.organisationForView?[r("v-card-title",{staticClass:"subheading pa-3 grey lighten-3",attrs:{"primary-title":""}},[t._v("\n                        "+t._s(t.$store.state.organisationForView.title)+"\n                    ")]),r("v-card-text",[r("table",{staticClass:"font-weight-medium"},[r("tr",[r("td",{staticClass:"pa-1"},[t._v("Телефон:")]),r("td",{staticClass:"pa-1"},[t._v(t._s(t.$store.state.organisationForView.phone))])]),r("tr",[r("td",{staticClass:"pa-1"},[t._v("Факс:")]),r("td",{staticClass:"pa-1"},[t._v(t._s(t.$store.state.organisationForView.fax))])]),r("tr",[r("td",{staticClass:"pa-1"},[t._v("Электронная почта:")]),r("td",{staticClass:"pa-1"},[t._v(t._s(t.$store.state.organisationForView.email))])]),r("tr",[r("td",{staticClass:"pa-1"},[t._v("Адрес:")]),r("td",{staticClass:"pa-1"},[t._v(t._s(t.$store.state.organisationForView.address))])])])])]:r("v-progress-circular",{staticStyle:{position:"absolute",top:"calc(50% - 16px)",left:"calc(50% - 16px)"},attrs:{size:32,indeterminate:"",width:2,color:"primary"}})],2)],1),t.$store.state.results.length?r("v-stepper",{attrs:{vertical:""},model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[t._l(t.$store.state.results,function(e){return[r("v-stepper-step",{key:e.stepId,attrs:{step:e.stepNum,editable:!!e.items.length}},[r("span",{staticClass:"subheading text-uppercase"},[t._v(t._s(e.stepName)+"\n                "),e.totalTime?r("span",{staticClass:"blue--text"},[t._v("\n                    - До "+t._s(e.totalTime)+" дней\n                ")]):r("i",{staticClass:"fas fa-clock ml-2 grey--text"})])]),r("v-stepper-content",{attrs:{step:e.stepNum}},[r("v-card",{staticClass:"ma-1 mb-4",attrs:{tile:""}},[r("v-data-table",{attrs:{"disable-initial-sort":"","hide-actions":"",headers:t.headers,items:e.items,"item-key":"procedureId"},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v("\n                                "+t._s(e.item.procedureName)+"\n                            ")]),r("td",[r("v-btn",{staticClass:"intable-button",attrs:{small:"",flat:"",tag:"a",color:"blue darken-2"},on:{click:function(){return t.selectOrganisation(e.item.organisationId)}}},[t._v("\n                                    "+t._s(e.item.organisationName)+"\n                                ")])],1),r("td",{staticClass:"text-xs-center body-2"},[t._v("\n                                "+t._s(t.formatDays(e.item))+"\n                            ")]),r("td",{},[t._v("\n                                "+t._s(e.item.documentName)+"\n                            ")])]}}],null,!0)})],1)],1)]})],2):r("v-progress-circular",{staticClass:"circulator",attrs:{size:60,width:3,color:"primary",indeterminate:""}})],1)},z=[];let A=class extends d["c"]{constructor(){super(...arguments),this.e1=-1,this.organisationDialog=!1}created(){this.$store.dispatch("LoadResults")}selectOrganisation(t){this.organisationDialog=!0,this.$store.dispatch("LoadOrganisation",t)}formatDays(t){return t.performingTime?`до ${t.performingTime} ${t.isTimeByCalendar?"календарных":"рабочих"} дней`:"Договорная"}get headers(){return[{text:"Процедура",sortable:!1,value:"procedureName",class:"body-2"},{text:"Ответственная организация",sortable:!1,value:"organisationName",class:"body-2"},{text:"Срок проведения",sortable:!1,value:"performingTime",class:"body-2"},{text:"Результат",sortable:!1,value:"documentName",class:"body-2"}]}};A=u["a"]([d["a"]],A);var B=A,J=B,M=(r("aada"),Object(m["a"])(J,U,z,!1,null,null,null)),H=M.exports;s["default"].use(b["a"]);var q=new b["a"]({routes:[{path:"/master",component:R},{path:"/",component:L},{path:"/result",component:H}]});function Z(t,e,r){const s=t=>{let a=e.filter(e=>e.chE==t).map(t=>t.chS);return 0==a.length?r[t].selected:!!a.filter(t=>r[t].selected).find(s)};return t.filter(t=>s(t.choiceId))}function K(t,e,r){const s=t=>{let r=e.filter(e=>e.chE==t).map(t=>t.chS);return 0==r.length?[t]:[].concat(...r.map(s))};let a=e.filter(e=>e.chE==t).map(t=>t.chS);if(0==a.length)return!1;let i=Array.from(new Set([].concat(...a.map(s)))),n=i.every(t=>!r[t].selected);return n&&(r[t].selected=!1),n}var Q=r("2f62");class W{constructor(){this.currentStepNumber=null,this.frontendSteps=[],this.parameters=[],this.choices=[],this.choicesIndex={},this.parameterIdChoicesIndex={},this.expressions=[],this.links=[],this.results=[],this.organisationForView=null}}const X={state:new W,mutations:{SetInitial(t,e){t.frontendSteps=e.frontendSteps,t.currentStepNumber=e.frontendSteps.find(t=>1==t.order).order,t.parameters=e.parameters,t.choices=e.choices,t.links=e.links,t.expressions=e.expressions,t.choices.forEach(e=>t.choicesIndex[e.id]=e),t.parameters.forEach(e=>t.parameterIdChoicesIndex[e.id]=t.choices.filter(t=>t.parameterId==e.id))},FrontendStepNext(t){let e=t.frontendSteps.find(e=>e.order==t.currentStepNumber+1);e&&(t.currentStepNumber=e.order)},FrontendStepPrev(t){let e=t.frontendSteps.find(e=>e.order==t.currentStepNumber-1);e&&(t.currentStepNumber=e.order)},CheckChoice(t,e){let r=t.choicesIndex[e];t.parameterIdChoicesIndex[r.parameterId].forEach(t=>{t.selected=!1}),r.selected=!0},SetResults(t,e){t.results=e},SetOrganisationForView(t,e){t.organisationForView=e},ResetOrganisationForView(t){t.organisationForView=null}},actions:{async LoadInitial(t){let e=t.commit;try{let t=await window.$services.GetDefaultCalculatorService().GetSteps();e("SetInitial",t)}catch(r){console.error(r)}},async LoadOrganisation(t,e){let r=t.commit;r("ResetOrganisationForView");try{let t=await window.$services.GetDefaultCalculatorService().GetOrganisation(e);r("SetOrganisationForView",t)}catch(s){console.error(s)}},async LoadResults(t){let e=t.commit,r=t.state,s=Z(r.expressions,r.links,r.choices).map(t=>t.id),a=Array.from(new Set(s));try{let t=await window.$services.GetDefaultCalculatorService().GetResults(a);e("SetResults",t)}catch(i){console.error(i)}}},getters:{IsFirstStep:t=>1==t.currentStepNumber,IsLastStep:t=>t.currentStepNumber==t.frontendSteps[t.frontendSteps.length-1].order,CurrentParams:t=>t.parameters.filter(e=>e.frontendStepId==t.currentStepNumber),ChoicesForParameter:t=>e=>t.parameterIdChoicesIndex[e],IsChoiceDisabled:t=>e=>K(e,t.links,t.choicesIndex),SelectedChoiceIdForParameter:t=>e=>{let r=t.parameterIdChoicesIndex[e].find(t=>t.selected);return r?r.id:null}}};s["default"].use(Q["a"]);var Y=new Q["a"].Store(X);r("d236");class tt{constructor(t){this.geturl=t}GetSteps(){return window.$http.get(this.geturl("initial"))}GetResults(t){return window.$http.post(this.geturl("results"),JSON.stringify(t))}GetOrganisation(t){return window.$http.get(this.geturl(`organisation?id=${t}`))}}class et{constructor(){this.servicesStorage=[],this.getUrl=t=>"http://37.235.251.79:5000/api/"+t}getService(t,e){return this.servicesStorage[e]||(this.servicesStorage[e]=t()),this.servicesStorage[e]}GetDefaultCalculatorService(){return this.getService(()=>new tt(this.getUrl),"CalculatorService")}}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),s.forEach(function(e){st(t,e,r[e])})}return t}function st(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class at{constructor(){let t=new Headers;t.set("Content-type","application/json"),this.fetchParams={credentials:"same-origin",headers:t}}handleResponse(t){if(t.ok){let e=t.headers.get("content-type");return e&&e.includes("application/json")?t.json():t.text()}{let e;switch(t.status){case 401:e="NOT_AUTHORIZED";break;case 400:e="FRONTEND_ERROR";break;case 404:e="NOT_FOUND_ERROR";break;case 500:e="SERVER_ERROR";break;case 502:e="CONNECTION_ERROR";break;default:e=JSON.stringify(t)}throw e}}async delete(t){let e={method:"DELETE"},r=await fetch(t,rt({},this.fetchParams,e)),s=this.handleResponse(r);return s}async get(t){let e={method:"GET"},r=await fetch(t,rt({},this.fetchParams,e)),s=this.handleResponse(r);return s}async patch(t,e){let r={method:"PATCH",body:e},s=await fetch(t,rt({},this.fetchParams,r)),a=this.handleResponse(s);return a}async post(t,e){let r={method:"POST",body:e},s=await fetch(t,rt({},this.fetchParams,r)),a=this.handleResponse(s);return a}async put(t,e){let r={method:"PUT",body:e},s=await fetch(t,rt({},this.fetchParams,r)),a=this.handleResponse(s);return a}}s["default"].config.productionTip=!1,window.$http=new at,window.$services=new et,window.vm=new s["default"]({router:q,store:Y,render:t=>t(g)}),window.vm.$mount("#app")},d236:function(t,e,r){}});